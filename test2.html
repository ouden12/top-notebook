<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    ul li {
      display:inline;
      padding: 10px;
    }
    a {color: inherit;}
    </style>
    
</head>
<body>
    <header class="header-main">
        <div class="header-left">
            <nav class="header-nav">
                <ul>
                    <li><a href="js_objects.html">JS Objects</a></li>
                    <li><a href="loginPractice.html">Login practice</a></li>
                    <li><a href="calendarPractice.html">Calendar</a></li>
                    <li><a href="">Documentation</a></li>
                    <li><a href="">Resources</a></li>
                    <li><a href="test.html">Test</a></li>
                    <li><a href="test2.html">Test 2</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <h3>Hola brother</h3>
    <label for="theme">Select website style</label>
    <select id="theme">
        <option value=""></option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
    <br>
    <br>
    <!-- Read a pressed key and show it on screen -->
    <div>
        <input id="keyInput" type="text" onfocus="this.value=''"><br><br>
        <div id="keyOutput"></div>
    </div>
    <!-- Print a name selected randomly from an array list -->
    <div>
        <p id="nameList"></p>
        <p id="randomName"></p>
    </div>
    <!-- Print a new array with the short names only -->
    <div>
        <p id="shortNames"></p>
    </div>
    <script>
        const themeSelector = document.getElementById("theme");
        const html = document.querySelector("html");

        function updateTheme (bgColor, txtColor) {
            html.style.backgroundColor = bgColor;
            html.style.color = txtColor;
        }

        function setTheme () {
            // Ternary operator
            themeSelector.value === "dark"
            ? updateTheme("#0b1012", "white")
            : updateTheme("white", "black");
        }

        themeSelector.addEventListener("change", setTheme);

        // Read a pressed key and show it on screen
        const keyInput = document.querySelector("#keyInput");
        const keyOutput = document.querySelector("#keyOutput");

        // Method used in the explanation
        keyInput.addEventListener("keydown", (event) => {
            console.log("1) Key is: "+event.key);
            keyOutput.innerHTML = `You pressed: "${event.key}"`;
        });

        //  This option also works
        keyInput.addEventListener("keydown", setKey);
    
        function setKey() {
            console.log("2) Key is: "+event.key);
            keyOutput.innerHTML = `You pressed: "${event.key}"`;
        }  

        //
        // Print a name selected randomly from an array list
        //

        const names = ['Chris', 'Li Kang', 'Anne', 'Francesca', 'Mustafa', 'Tina', 'Bert', 'Jada'];
        const paragraph = document.querySelector("#randomName");

        // Generates a random number inside a specific range 
        function random(max, min) {
            return (Math.floor(Math.random() * (max-min+1) + min));
        }

        // Picks a random value from inside an array
        function selectName(string) {
            return (string[random(0, string.length)]);
        }

        // Prints entire array as a paragraph in html
        function printArray(vector, id) {

            // Primera alternativa para hacer esto, muy larga e innecesaria
            /** 
            document.getElementById(id).innerHTML = "List of names: ";
            for (let i = 0; i < vector.length; i++) {
                if (i < vector.length-1)
                    document.getElementById(id).innerHTML += vector[i]+", ";
                else
                    document.getElementById(id).innerHTML += vector[i]+".";
            }
            */
           
           // Segunda alternativa para hacerlo, con la funci칩n join() junta todos los items del vector en una sola cadena separ치ndolos con el par치metro ', ' y luego se a침ade al elemento.
           let cadena1 = vector.join(', ');
           document.getElementById(id).innerHTML = "List of names: "+cadena1+".";
        }

        // Calling the functions
        paragraph.textContent = "Random selected name: "+selectName(names);
        printArray(names, "nameList");


        //
        // Filter function for an arrray
        //
        const names2 = ['Chris', 'Li Kang', 'Anne', 'Francesca', 'Mustafa', 'Tina', 'Bert', 'Jada'];
        const paragraph2 = document.querySelector('#shortNames');

        // Original function and call for retrieving short names
        // function isShort(name) { return name.length < 5; }
        // const shortNames = names2.filter(isShort);
        
        // Alternative with an arrow function insde the filter() parameter
        const shortNames = names2.filter( (name) => {
            return name.length < 5
        });

        let cadena2 = shortNames.join(', ');
        paragraph2.textContent = "Short names: " + cadena2 + ".";
    

    </script>
</body>
</html>